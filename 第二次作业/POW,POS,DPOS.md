共识机制是什么？
共识机制，就是在一个时间段内对事物的前后顺序达成共识的一种算法。

共识机制有什么用？
在区块链上，每个人都会有一份记录链上所有交易的账本，链上产生一笔新的交易时，每个人接收到这个信息的时间是不一样的，有些想要干坏事的人就有可能在这时发布一些错误的信息，这时就需要一个人把所有人接收到的信息进行验证，最后公布最正确的信息。

### 一、POW (Proof of Work)：工作量证明机制。
#####1.基本原理
“按劳取酬”，你付出多少工作量，就会获得多少报酬（比特币等加密货币）。在网络世界里，这里的劳动就是你为网络提供的计算服务（算力x时长），提供这种服务的过程就是“挖矿”。能力越强获得越多。

#####2.优点：
* 算法简单，容易实现；
* 节点间无需交换额外的信息即可达成共识；
* 破坏系统需要投入极大的成本；

#####3.缺点：
* 浪费能源；
* 区块的确认时间难以缩短；
* 新的区块链必须找到一种不同的散列算法，否则就会面临算力攻击；
* 容易产生分叉，需要等待多个确认；
* 永远没有最终性，需要检查点机制来弥补最终性；

### 二、POS (Proof of Stake):股权证明机制。
#####1.基本原理
主要思想是节点记账权的获得难度与节点持有的权益成反比，相对于POW，一定程度减少了数学运算带来的资源消耗，性能也得到了相应的提升，但依然是基于哈希运算竞争获取记账权的方式，可监管性弱。该共识机制容错性和POW相同。它是POW的一种升级共识机制，根据每个节点所占token的比例和时间，等比例的降低挖矿难度，从而加快找随机数的速度。

#####2.优点：
* 在一定程度上缩短了共识达成的时间；
* 不再需要大量消耗能源挖矿。

#####3.缺点：
* 纯PoS机制的加密货币，只能通过IPO的方式发行，这就导致“少数人”（通常是开发者）获得大量成本极低的加密货币，在利益面前，很难保证他们不会大量抛售。
* PoS机制的加密货币，信用基础不够牢固。
* 还是需要挖矿，本质上没有解决商业应用的痛点；

### 三、DPOS（Delegated Proof of Stake）：授权股权证明机制
#####1.基本原理
节点选举若干代理人，由代理人验证和记账。其合规监管、性能、资源消耗和容错性与POS相似。类似于董事会投票，持币者投出一定数量的超级节点，代理他们进行验证和记账。也就是说成为超级节点就等于能够成为“人大代表”（也就是超级节点），拥有更多的权益

#####2.优点：
* 大幅缩小参与验证和记账节点的数量，可以达到秒级的共识验证；
* 更加去中心化的机制；
* 拥有更高的处理效率

#####3.缺点：
* 投票的积极性并不高。绝大多数持股人（90％+）从未参与投票。这是因为投票需要时间、精力以及技能，而这恰恰是大多数投资者所缺乏的。
* 对于坏节点的处理存在诸多困难。社区选举不能及时有效的阻止一些破坏节点的出现，给网络造成安全隐患。

### 总结：
* POW 工作量证明机制，类似于按劳分配。
* POS 股权证明机制。 持有股票的人，就有对应的权利，持有的越多，权利越大 。
* DPOS 授权股权证明机制。类似于董事会， 董事会成员数量有限,，由大家选举产生， 被选中的董事会成员可以行使权利。